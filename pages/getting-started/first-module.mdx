# ğŸ“ ì²« Move ëª¨ë“ˆ ë§Œë“¤ê¸°

Movement Networkì—ì„œ ì²« ë²ˆì§¸ Move ëª¨ë“ˆì„ ìƒì„±í•˜ê³  í…ŒìŠ¤íŠ¸í•˜ëŠ” ê³¼ì •ì„ ë‹¨ê³„ë³„ë¡œ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.

## ğŸ¯ í•™ìŠµ ëª©í‘œ

ì´ íŠœí† ë¦¬ì–¼ì„ ì™„ë£Œí•˜ë©´:
- Move í”„ë¡œì íŠ¸ êµ¬ì¡°ë¥¼ ì´í•´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
- ê¸°ë³¸ì ì¸ Move ëª¨ë“ˆì„ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤  
- ì½”ë“œë¥¼ ì»´íŒŒì¼í•˜ê³  í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
- Move ì–¸ì–´ì˜ í•µì‹¬ ê°œë…ì„ ê²½í—˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤

## ğŸš€ 1. ìƒˆ í”„ë¡œì íŠ¸ ìƒì„±

ë¨¼ì € ìƒˆë¡œìš´ Move í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•´ë´…ì‹œë‹¤.

### í”„ë¡œì íŠ¸ ì´ˆê¸°í™”
```bash
# ìƒˆ í”„ë¡œì íŠ¸ ìƒì„±
movement move init hello-movement

# í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ë¡œ ì´ë™
cd hello-movement

# í”„ë¡œì íŠ¸ êµ¬ì¡° í™•ì¸
tree
```

### ìƒì„±ëœ í”„ë¡œì íŠ¸ êµ¬ì¡°
```
hello-movement/
â”œâ”€â”€ Move.toml          # í”„ë¡œì íŠ¸ ì„¤ì • íŒŒì¼
â”œâ”€â”€ sources/           # Move ì†ŒìŠ¤ ì½”ë“œ
â”‚   â””â”€â”€ hello.move     # ê¸°ë³¸ ëª¨ë“ˆ íŒŒì¼
â””â”€â”€ tests/             # í…ŒìŠ¤íŠ¸ íŒŒì¼
```

## ğŸ“‹ 2. Move.toml ì„¤ì • íŒŒì¼

í”„ë¡œì íŠ¸ì˜ ë©”íƒ€ë°ì´í„°ì™€ ì˜ì¡´ì„±ì„ ê´€ë¦¬í•˜ëŠ” íŒŒì¼ì…ë‹ˆë‹¤.

### ê¸°ë³¸ Move.toml
```toml
[package]
name = "hello-movement"
version = "0.1.0"

[addresses]
hello_movement = "_"

[dependencies]
MoveStdlib = { 
    git = "https://github.com/movementlabsxyz/aptos-core.git", 
    subdir = "aptos-move/framework/move-stdlib", 
    rev = "mainnet" 
}
MovementFramework = { 
    git = "https://github.com/movementlabsxyz/aptos-core.git", 
    subdir = "aptos-move/framework/aptos-framework", 
    rev = "mainnet" 
}
```

### ì„¤ì • ìš”ì†Œ ì„¤ëª…
- **[package]**: í”„ë¡œì íŠ¸ ê¸°ë³¸ ì •ë³´
- **[addresses]**: ëª¨ë“ˆ ì£¼ì†Œ ë³„ì¹­ ì •ì˜
- **[dependencies]**: ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì˜ì¡´ì„±

## ğŸ“„ 3. ì²« ë²ˆì§¸ Move ëª¨ë“ˆ ì‘ì„±

`sources/hello.move` íŒŒì¼ì„ ìƒì„±í•˜ê³  ê¸°ë³¸ ëª¨ë“ˆì„ ì‘ì„±í•´ë´…ì‹œë‹¤.

### Hello World ëª¨ë“ˆ
```move
module hello_movement::hello {
    use std::string::{Self, String};
    use std::signer;
    
    // ì¸ì‚¬ë§ì„ ì €ì¥í•˜ëŠ” ë¦¬ì†ŒìŠ¤
    struct Greeting has key, store, drop {
        message: String,
        count: u64,
    }
    
    // ëª¨ë“ˆ ì´ˆê¸°í™” - ê³„ì •ì— ì¸ì‚¬ë§ ë¦¬ì†ŒìŠ¤ ìƒì„±
    public fun init_greeting(account: &signer) {
        let greeting = Greeting {
            message: string::utf8(b"Hello, Movement Network!"),
            count: 0,
        };
        move_to(account, greeting);
    }
    
    // ì¸ì‚¬ë§ ë°˜í™˜í•˜ëŠ” ê³µê°œ í•¨ìˆ˜
    public fun get_greeting(addr: address): String acquires Greeting {
        let greeting = borrow_global<Greeting>(addr);
        greeting.message
    }
    
    // ì¹´ìš´í„° ì¦ê°€
    public fun increment_count(account: &signer) acquires Greeting {
        let addr = signer::address_of(account);
        let greeting = borrow_global_mut<Greeting>(addr);
        greeting.count = greeting.count + 1;
    }
    
    // í˜„ì¬ ì¹´ìš´íŠ¸ ì¡°íšŒ
    public fun get_count(addr: address): u64 acquires Greeting {
        let greeting = borrow_global<Greeting>(addr);
        greeting.count
    }
    
    // ì¸ì‚¬ë§ ë©”ì‹œì§€ ì—…ë°ì´íŠ¸
    public fun update_greeting(account: &signer, new_message: String) acquires Greeting {
        let addr = signer::address_of(account);
        let greeting = borrow_global_mut<Greeting>(addr);
        greeting.message = new_message;
    }
}
```

### ì½”ë“œ ì„¤ëª…

#### ëª¨ë“ˆ ì„ ì–¸
```move
module hello_movement::hello {
    // ëª¨ë“ˆ ë‚´ìš©
}
```
- `hello_movement`: ì£¼ì†Œ ë³„ì¹­ (Move.tomlì—ì„œ ì •ì˜)
- `hello`: ëª¨ë“ˆ ì´ë¦„

#### ë¦¬ì†ŒìŠ¤ ì •ì˜
```move
struct Greeting has key, store, drop {
    message: String,
    count: u64,
}
```
- `key`: ì „ì—­ ì €ì¥ì†Œì— ì €ì¥ ê°€ëŠ¥
- `store`: ë‹¤ë¥¸ êµ¬ì¡°ì²´ ì•ˆì— ì €ì¥ ê°€ëŠ¥  
- `drop`: ìŠ¤ì½”í”„ë¥¼ ë²—ì–´ë‚˜ë©´ ìë™ ì‚­ì œ

#### ê³µê°œ í•¨ìˆ˜
```move
public fun init_greeting(account: &signer) {
    // ê³„ì •ì— ë¦¬ì†ŒìŠ¤ ì €ì¥
}
```

## ğŸ”§ 4. í”„ë¡œì íŠ¸ ë¹Œë“œ

ì‘ì„±í•œ ì½”ë“œë¥¼ ì»´íŒŒì¼í•´ë´…ì‹œë‹¤.

### ë¹Œë“œ ëª…ë ¹ì–´
```bash
# í”„ë¡œì íŠ¸ ë¹Œë“œ
movement move build

# ì„±ê³µ ì‹œ ì¶œë ¥ ì˜ˆì‹œ
# Compiling, may take a little while to download git dependencies...
# INCLUDING DEPENDENCY MoveStdlib
# INCLUDING DEPENDENCY MovementFramework  
# BUILDING hello-movement
```

### ë¹Œë“œ ê²°ê³¼ í™•ì¸
```bash
# build ë””ë ‰í† ë¦¬ í™•ì¸
ls -la build/

# ì»´íŒŒì¼ëœ ë°”ì´íŠ¸ì½”ë“œ í™•ì¸
ls -la build/hello-movement/
```

## ğŸ§ª 5. ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„±

`sources/hello.move`ì— í…ŒìŠ¤íŠ¸ í•¨ìˆ˜ë¥¼ ì¶”ê°€í•´ë´…ì‹œë‹¤.

### í…ŒìŠ¤íŠ¸ í•¨ìˆ˜ ì¶”ê°€
```move
module hello_movement::hello {
    // ... ê¸°ì¡´ ì½”ë“œ ...
    
    // í…ŒìŠ¤íŠ¸ ì „ìš© import
    #[test_only]
    use std::account;
    
    // ê¸°ë³¸ í…ŒìŠ¤íŠ¸
    #[test(account = @0x1)]
    fun test_init_greeting(account: &signer) acquires Greeting {
        init_greeting(account);
        
        let addr = signer::address_of(account);
        let message = get_greeting(addr);
        let count = get_count(addr);
        
        assert!(message == string::utf8(b"Hello, Movement Network!"), 1);
        assert!(count == 0, 2);
    }
    
    // ì¹´ìš´í„° í…ŒìŠ¤íŠ¸
    #[test(account = @0x1)]
    fun test_increment_count(account: &signer) acquires Greeting {
        init_greeting(account);
        
        let addr = signer::address_of(account);
        increment_count(account);
        increment_count(account);
        
        let count = get_count(addr);
        assert!(count == 2, 1);
    }
    
    // ë©”ì‹œì§€ ì—…ë°ì´íŠ¸ í…ŒìŠ¤íŠ¸
    #[test(account = @0x1)]  
    fun test_update_greeting(account: &signer) acquires Greeting {
        init_greeting(account);
        
        let new_message = string::utf8(b"Hello, Updated Movement!");
        update_greeting(account, new_message);
        
        let addr = signer::address_of(account);
        let message = get_greeting(addr);
        assert!(message == string::utf8(b"Hello, Updated Movement!"), 1);
    }
    
    // ì‹¤íŒ¨ í…ŒìŠ¤íŠ¸ - ì´ˆê¸°í™” ì—†ì´ ì ‘ê·¼
    #[test(account = @0x1)]
    #[expected_failure]
    fun test_get_greeting_without_init(account: &signer) acquires Greeting {
        let addr = signer::address_of(account);
        get_greeting(addr); // ì´ˆê¸°í™” ì—†ì´ ì ‘ê·¼í•˜ë©´ ì‹¤íŒ¨
    }
}
```

### í…ŒìŠ¤íŠ¸ ì‹¤í–‰
```bash
# ëª¨ë“  í…ŒìŠ¤íŠ¸ ì‹¤í–‰
movement move test

# íŠ¹ì • í…ŒìŠ¤íŠ¸ë§Œ ì‹¤í–‰
movement move test --filter test_init_greeting

# ìì„¸í•œ ì¶œë ¥
movement move test --verbose
```

### í…ŒìŠ¤íŠ¸ ê²°ê³¼ ì˜ˆì‹œ
```bash
PASS    hello_movement::hello::test_init_greeting
PASS    hello_movement::hello::test_increment_count
PASS    hello_movement::hello::test_update_greeting
PASS    hello_movement::hello::test_get_greeting_without_init

Test result: OK. Total tests: 4; passed: 4; failed: 0
```

## ğŸ® 6. ë” ë³µì¡í•œ ì˜ˆì œ: ê°„ë‹¨í•œ ì¹´ìš´í„° ê²Œì„

ì¢€ ë” í¥ë¯¸ë¡œìš´ ëª¨ë“ˆì„ ë§Œë“¤ì–´ë´…ì‹œë‹¤.

### `sources/counter_game.move` ìƒì„±
```move
module hello_movement::counter_game {
    use std::signer;
    use std::string::{Self, String};
    
    // ì—ëŸ¬ ì½”ë“œ
    const E_GAME_NOT_INITIALIZED: u64 = 1;
    const E_ALREADY_INITIALIZED: u64 = 2;
    const E_INVALID_GUESS: u64 = 3;
    
    // ê²Œì„ ìƒíƒœ
    struct CounterGame has key {
        target: u64,
        attempts: u64,
        high_score: u64, // ìµœì†Œ ì‹œë„ íšŸìˆ˜ ê¸°ë¡
        player_name: String,
    }
    
    // ê²Œì„ ì´ˆê¸°í™”
    public fun init_game(account: &signer, target: u64, player_name: String) {
        let addr = signer::address_of(account);
        assert!(!exists<CounterGame>(addr), E_ALREADY_INITIALIZED);
        
        let game = CounterGame {
            target,
            attempts: 0,
            high_score: 999, // ì´ˆê¸°ê°’ì€ ë§¤ìš° í° ìˆ˜
            player_name,
        };
        
        move_to(account, game);
    }
    
    // ìˆ«ì ë§íˆê¸° ì‹œë„
    public fun make_guess(account: &signer, guess: u64): u8 acquires CounterGame {
        let addr = signer::address_of(account);
        assert!(exists<CounterGame>(addr), E_GAME_NOT_INITIALIZED);
        
        let game = borrow_global_mut<CounterGame>(addr);
        game.attempts = game.attempts + 1;
        
        if (guess == game.target) {
            // ì •ë‹µ! ìµœê³  ê¸°ë¡ ê°±ì‹  í™•ì¸
            if (game.attempts < game.high_score) {
                game.high_score = game.attempts;
            };
            0 // ì •ë‹µ
        } else if (guess < game.target) {
            1 // ë” í° ìˆ˜
        } else {
            2 // ë” ì‘ì€ ìˆ˜
        }
    }
    
    // ê²Œì„ ë¦¬ì…‹
    public fun reset_game(account: &signer, new_target: u64) acquires CounterGame {
        let addr = signer::address_of(account);
        assert!(exists<CounterGame>(addr), E_GAME_NOT_INITIALIZED);
        
        let game = borrow_global_mut<CounterGame>(addr);
        game.target = new_target;
        game.attempts = 0;
    }
    
    // ê²Œì„ ìƒíƒœ ì¡°íšŒ
    public fun get_game_stats(addr: address): (u64, u64, String) acquires CounterGame {
        assert!(exists<CounterGame>(addr), E_GAME_NOT_INITIALIZED);
        let game = borrow_global<CounterGame>(addr);
        (game.attempts, game.high_score, game.player_name)
    }
    
    // í…ŒìŠ¤íŠ¸ë“¤
    #[test(player = @0x123)]
    fun test_game_flow(player: &signer) acquires CounterGame {
        let target = 50;
        init_game(player, target, string::utf8(b"Alice"));
        
        // ì²« ë²ˆì§¸ ì¶”ì¸¡ - ë„ˆë¬´ ë‚®ìŒ
        let result = make_guess(player, 30);
        assert!(result == 1, 1); // ë” í° ìˆ˜
        
        // ë‘ ë²ˆì§¸ ì¶”ì¸¡ - ë„ˆë¬´ ë†’ìŒ  
        let result = make_guess(player, 70);
        assert!(result == 2, 2); // ë” ì‘ì€ ìˆ˜
        
        // ì„¸ ë²ˆì§¸ ì¶”ì¸¡ - ì •ë‹µ!
        let result = make_guess(player, 50);
        assert!(result == 0, 3); // ì •ë‹µ
        
        // ìƒíƒœ í™•ì¸
        let addr = signer::address_of(player);
        let (attempts, high_score, name) = get_game_stats(addr);
        assert!(attempts == 3, 4);
        assert!(high_score == 3, 5);
        assert!(name == string::utf8(b"Alice"), 6);
    }
    
    #[test(player = @0x456)]
    #[expected_failure(abort_code = 1)]
    fun test_game_not_initialized(player: &signer) acquires CounterGame {
        make_guess(player, 50); // ê²Œì„ ì´ˆê¸°í™” ì—†ì´ ì‹œë„
    }
}
```

### ê²Œì„ í…ŒìŠ¤íŠ¸
```bash
# ìƒˆ ëª¨ë“ˆê¹Œì§€ í¬í•¨í•´ì„œ ë¹Œë“œ
movement move build

# ê²Œì„ ëª¨ë“ˆ í…ŒìŠ¤íŠ¸
movement move test --filter counter_game
```

## ğŸ“š 7. Move ì–¸ì–´ í•µì‹¬ ê°œë… ì •ë¦¬

ì²« ë²ˆì§¸ ëª¨ë“ˆì„ í†µí•´ ê²½í—˜í•œ ì£¼ìš” ê°œë…ë“¤:

### ë¦¬ì†ŒìŠ¤ (Resource)
```move
struct Greeting has key, store, drop {
    // ë””ì§€í„¸ ìì‚°ì„ ì•ˆì „í•˜ê²Œ í‘œí˜„
}
```

### ì†Œìœ ê¶Œê³¼ ì°¨ìš© (Ownership & Borrowing)
```move
let greeting = borrow_global_mut<Greeting>(addr);
// mutable referenceë¡œ ì°¨ìš©
```

### ì „ì—­ ì €ì¥ì†Œ (Global Storage)
```move
move_to(account, greeting);    // ì €ì¥
borrow_global<Greeting>(addr); // ì½ê¸°
move_from<Greeting>(addr);     // ì´ë™
```

### íƒ€ì… ì•ˆì „ì„±
```move
// ì»´íŒŒì¼ íƒ€ì„ì— ëª¨ë“  íƒ€ì…ì´ í™•ì¸ë¨
public fun get_count(addr: address): u64 acquires Greeting
```

## ğŸ¯ 8. ëª¨ë²” ì‚¬ë¡€

### ì—ëŸ¬ ì²˜ë¦¬
```move
const E_NOT_INITIALIZED: u64 = 1;
assert!(exists<Resource>(addr), E_NOT_INITIALIZED);
```

### í…ŒìŠ¤íŠ¸ ì‘ì„±
```move
#[test(account = @0x1)]
fun test_function(account: &signer) {
    // ëª¨ë“  ê³µê°œ í•¨ìˆ˜ì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ ì‘ì„±
}
```

### ë¬¸ì„œí™”
```move
/// ì¸ì‚¬ë§ì„ ì´ˆê¸°í™”í•˜ëŠ” í•¨ìˆ˜
/// @param account ê³„ì • ì„œëª…ì
public fun init_greeting(account: &signer) {
    // êµ¬í˜„
}
```

## ğŸ”— ë‹¤ìŒ ë‹¨ê³„

ì²« ë²ˆì§¸ Move ëª¨ë“ˆì„ ì„±ê³µì ìœ¼ë¡œ ë§Œë“¤ì—ˆë‹¤ë©´:

**[ê³„ì • ìƒì„± & Faucet ì‚¬ìš©ë²• â†’](/getting-started/accounts-faucet)**

## ğŸ“š ì°¸ê³  ìë£Œ

- [Movement ê°œë°œì í¬í„¸](https://developer.movementnetwork.xyz/)
- [Movement ê³µì‹ ë¬¸ì„œ](https://docs.movementnetwork.xyz/)
- [Move ì–¸ì–´ ê¸°ë³¸ ê°œë…](/basic-concepts)

---

*ì²« ë²ˆì§¸ Move ëª¨ë“ˆ ì™„ì„±ì„ ì¶•í•˜í•©ë‹ˆë‹¤! ğŸ‰*